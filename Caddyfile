# Production - Main website (Next.js)
canto-store.com, www.canto-store.com {
  reverse_proxy production-web:3000
}

# Production - API (Express)
api.canto-store.com {
  reverse_proxy production-server:8000
}

# Production - Dashboard (Vite)
dashboard.canto-store.com {
  reverse_proxy production-dashboard:5173
}

staging.canto-store.com {
  reverse_proxy staging-web:5000
}

api-staging.canto-store.com {
  reverse_proxy staging-server:9000
}

dashboard-staging.canto-store.com {
  reverse_proxy staging-dashboard:7000
}

# Health check endpoint
:80 {
  @health path /health
  respond @health "ok" 200
}
